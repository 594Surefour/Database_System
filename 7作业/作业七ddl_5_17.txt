1.先在account表中执行更新语句，将最后活跃日期和当前时间相距超过三年的所有账户的Status属性设置为“不活跃”。

然后，在acc_transaction上定义一个AFTER INSERT触发器，触发器名为“d_newTransaction”，当对acc_transaction表执行任何插入操作后被启动，将该账户在account表中的Status属性设置为“正常”。（根据需要可能需要删除该表已有触发器）




2.在员工表中添加一项字段SIMPLE_KPI,字段类型int(11),不可空，初始值为0。在acc_transaction上定义AFTER INSERT触发器，触发器名为“e_newTransaction” 当对acc_transaction表执行任何插入操作后被启动，根据TELLER_EMP_ID，员工表中的SIMPLE_KPI+=1，如果有上级领导SUPERIOR_EMP_ID，则他的SIMPLE_KPI也+=1，迭代直到上级领导为空。（根据需要可能需要删除该表已有触发器）




3.请创建个新表instructor(ID int, name varchar(20), dept_name varchar(10), salary int)，并插入一条教师信息（12121, 'Wu', 'Comp. Sci.', 5000），进行MySQL隔离级别验证实验。完成实验后删除instructor表。
1）将instructor表中编号12121的名为Wu的教工的salary设置为10000元

2）同时开两个命令行界面，称为A和B，在A、B两个窗口都执行下面的语句，设定隔离级别为“读未提交”。
set tx_isolation='read-uncommitted';
可以执行select @@session.tx_isolation;验证设定是否已经成功。

3）在A窗口执行如下语句：
begin;
select * from instructor;
可以看到所有教工的信息，编号12121的名为Wu的教工的salary当前值应该为10000

4）在B窗口执行如下语句：
begin;
update instructor set salary = salary - 500 where id= 12121;
select * from instructor;


5）在A窗口执行如下语句：
select * from instructor;
请回答：
Q1：是否可以看到编号12121的名为Wu的教工的salary值被B窗口修改但未提交的结果，回答是/否。

Q2：这种现象的名称是？


6）在B窗口执行如下语句：
rollback;

7）在A窗口执行如下语句：
update instructor set salary = salary - 500 where id= 12121;
select * from instructor;
Q：当前编号12121的名为Wu的教工的salary值为多少？


8）在A窗口执行如下语句：
rollback;
select * from instructor;

9）在A、B两个窗口都执行下面的语句，设定隔离级别为“读已提交”。
set tx_isolation='read-committed';
可以执行select @@session.tx_isolation;验证设定是否已经成功。

10）在A窗口执行下面语句：
begin;
select * from instructor;

11）在B窗口执行下面语句：
begin;
select * from instructor;
update instructor set salary = salary - 500 where id= 12121;

12）在A窗口执行如下语句：
select * from instructor;
请回答：
Q1：当前编号12121的名为Wu的教工的salary值为多少？

Q2：是否可以看到编号12121的名为Wu的教工的salary值被B窗口修改但未提交的结果，回答是/否


13）在B窗口执行下面语句：
commit;
select * from instructor;

14）在A窗口执行如下语句：
select * from instructor;
commit;
请回答：
Q1：当前编号12121的名为Wu的教工的salary值为多少？

Q2：是否可以看到编号12121的名为Wu的教工的salary值被B窗口修改并已提交的结果，回答是/否

Q3：A窗口当前两次的select * from instructor;查询结果是否一致？

Q4：这种现象的名称是？


15）在A、B两个窗口都执行下面的语句，设定隔离级别为“可重复读”。
set tx_isolation='repeatable-read';
可以执行select @@session.tx_isolation;验证设定是否已经成功。

16-1）在A窗口执行下面语句：
begin;
select * from instructor;

16-2）在B窗口执行下面语句：
begin;
select * from instructor;
update instructor set salary = salary - 500 where id= 12121;
commit;
select * from instructor;

17）在A窗口执行如下语句：
select * from instructor;
Q1：当前编号12121的名为Wu的教工的salary值为多少？

Q2：是否可以看到编号12121的名为Wu的教工的salary值被B窗口修改并已提交的结果，回答是/否

Q3：A窗口当前两次的select * from instructor;查询结果是否一致？


18）在A窗口执行如下语句：
update instructor set salary = salary - 500 where id= 12121;
commit;
select * from instructor;
Q1：当前编号12121的名为Wu的教工的salary值为多少？



19）在A窗口执行如下语句：
begin;
select * from instructor;

20)在B窗口执行下面语句：
begin;
insert into instructor values(99999,'test','Comp. Sci.',10000);
commit;
select * from instructor;

21）在A窗口执行如下语句：
select * from instructor;
Q1：是否可以看到B窗口新插入并已提交的结果，回答是/否


22）在A窗口执行如下语句：
insert into instructor values(99999,'test','Comp. Sci.',10000);
Q1：A窗口是否能插入此条数据，回答是/否

Q2：这种现象的名称是？


23）在A窗口执行如下语句：
update instructor set salary = 6666 where id=99999;
select * from instructor;
commit;
Q1：A窗口是否更新了一条自己会话中查不到的数据，回答是/否




4. 加载JDBC驱动程序，利用JDBC连接bank数据库
 
1) 通过PreparedStatement对象实现往客户表customer添加一条数据的操作：
‘1’，‘上海市南京西路11号1021室’，‘上海市’，‘I’，‘上海市’，‘027027’，‘1000’

2)用Statement对象实现修改操作，将联系地址为‘上海市南京西路11号1021室’的
客户类型编号修改为‘B’.


